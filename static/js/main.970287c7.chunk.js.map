{"version":3,"sources":["Column.js","Row.js","App.js","reportWebVitals.js","index.js"],"names":["symbolsMap","2","0","1","Column","props","handleNewMove","bind","e","this","active","document","querySelector","style","display","innerHTML","marking","onNewMove","parseInt","target","id","className","onClick","class","String","fromCharCode","React","Component","Row","cols","i","row","boardState","push","patterns","AIScore","App","state","Array","fill","turn","mode","handleReset","handleModeChange","processBoard","makeAIMove","won","forEach","pattern","firstMark","marks","filter","mark","index","includes","length","getElementById","parentNode","background","setState","emptys","scores","score","xCount","oCount","p","maxIndex","reduce","maxVal","currentVal","currentIndex","preventDefault","querySelectorAll","el","prevState","slice","concat","getAttribute","rows","href","role","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.970287c7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\n\nvar symbolsMap = {\n    2: [\"marking\", \"32\"],\n    0: [\"marking marking-x\", 9587],\n    1: [\"marking marking-o\", 9711]\n};\n\nclass Column extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleNewMove = this.handleNewMove.bind(this);\n    }\n    handleNewMove(e) {\n        if (!this.props.active) {\n            document.querySelector(\"#message1\").style.display = \"none\";\n            document.querySelector(\"#message2\").innerHTML =\n                \"Game is already over! Reset if you want to play again.\";\n            document.querySelector(\"#message2\").style.display = \"block\";\n            return false;\n        } else if (this.props.marking == 2)\n            this.props.onNewMove(parseInt(e.target.id));\n    }\n\n    render() {\n        return (\n            <div className=\"col\" onClick={this.handleNewMove}>\n                <div class={symbolsMap[this.props.marking][0]} id={this.props.id}>\n                    {String.fromCharCode(symbolsMap[this.props.marking][1])}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Column;\n","import React, { Component } from \"react\";\nimport Column from \"./Column\";\n\nclass Row extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const cols = [];\n        for (var i = 0; i < 3; i++) {\n            var id = this.props.row * 3 + i;\n            var marking = this.props.boardState[id];\n            cols.push(\n                <Column\n                    key={id + \"-\" + marking}\n                    id={id + \"-\" + marking}\n                    marking={marking}\n                    onNewMove={this.props.onNewMove}\n                    active={this.props.active}\n                />\n            );\n        }\n        return <div className=\"row\">{cols}</div>;\n    }\n}\n\nexport default Row;","import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport Row from \"./Row\";\nimport \"./App.css\";\n\nvar symbolsMap = {\n  2: [\"marking\", \"32\"],\n  0: [\"marking marking-x\", 9587],\n  1: [\"marking marking-o\", 9711]\n};\n\nvar patterns = [\n  //horizontal\n  [0, 1, 2],\n  [3, 4, 5],\n  [6, 7, 8],\n  //vertical\n  [0, 3, 6],\n  [1, 4, 7],\n  [2, 5, 8],\n  //diagonal\n  [0, 4, 8],\n  [2, 4, 6]\n];\n\nvar AIScore = { 2: 1, 0: 2, 1: 0 };\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      boardState: new Array(9).fill(2),\n      turn: 0,\n      active: true,\n      mode: \"AI\"\n    };\n    this.handleNewMove = this.handleNewMove.bind(this);\n    this.handleReset = this.handleReset.bind(this);\n    this.handleModeChange = this.handleModeChange.bind(this);\n    this.processBoard = this.processBoard.bind(this);\n    this.makeAIMove = this.makeAIMove.bind(this);\n  }\n\n  processBoard() {\n    var won = false;\n    patterns.forEach(pattern => {\n      var firstMark = this.state.boardState[pattern[0]];\n\n      if (firstMark != 2) {\n        var marks = this.state.boardState.filter((mark, index) => {\n          return pattern.includes(index) && mark == firstMark; //looks for marks matching the first in pattern's index\n        });\n\n        if (marks.length == 3) {\n          document.querySelector(\"#message1\").innerHTML =\n            String.fromCharCode(symbolsMap[marks[0]][1]) + \" wins!\";\n          document.querySelector(\"#message1\").style.display = \"block\";\n          pattern.forEach(index => {\n            var id = index + \"-\" + firstMark;\n            document.getElementById(id).parentNode.style.background = \"#d4edda\";\n          });\n          this.setState({ active: false });\n          won = true;\n        }\n      }\n    });\n\n    if (!this.state.boardState.includes(2) && !won) {\n      document.querySelector(\"#message2\").innerHTML = \"Game Over - It's a draw\";\n      document.querySelector(\"#message2\").style.display = \"block\";\n      this.setState({ active: false });\n    } else if (this.state.mode == \"AI\" && this.state.turn == 1 && !won) {\n      this.makeAIMove();\n    }\n  }\n\n  makeAIMove() {\n    var emptys = [];\n    var scores = [];\n    this.state.boardState.forEach((mark, index) => {\n      if (mark == 2) emptys.push(index);\n    });\n\n    emptys.forEach(index => {\n      var score = 0;\n      patterns.forEach(pattern => {\n        if (pattern.includes(index)) {\n          var xCount = 0;\n          var oCount = 0;\n          pattern.forEach(p => {\n            if (this.state.boardState[p] == 0) xCount += 1;\n            else if (this.state.boardState[p] == 1) oCount += 1;\n            score += p == index ? 0 : AIScore[this.state.boardState[p]];\n          });\n          if (xCount >= 2) score += 10;\n          if (oCount >= 2) score += 20;\n        }\n      });\n      scores.push(score);\n    });\n\n    var maxIndex = 0;\n    scores.reduce(function (maxVal, currentVal, currentIndex) {\n      if (currentVal >= maxVal) {\n        maxIndex = currentIndex;\n        return currentVal;\n      }\n      return maxVal;\n    });\n    this.handleNewMove(emptys[maxIndex]);\n  }\n\n  handleReset(e) {\n    if (e) e.preventDefault();\n    document\n      .querySelectorAll(\".alert\")\n      .forEach(el => (el.style.display = \"none\"));\n    this.setState({\n      boardState: new Array(9).fill(2),\n      turn: 0,\n      active: true\n    });\n  }\n  handleNewMove(id) {\n    this.setState(\n      prevState => {\n        return {\n          boardState: prevState.boardState\n            .slice(0, id)\n            .concat(prevState.turn)\n            .concat(prevState.boardState.slice(id + 1)),\n          turn: (prevState.turn + 1) % 2\n        };\n      },\n      () => {\n        this.processBoard();\n      }\n    );\n  }\n\n  handleModeChange(e) {\n    e.preventDefault();\n    if (e.target.getAttribute(\"href\").includes(\"AI\")) {\n      e.target.style.background = \"#d4edda\";\n      document.querySelector(\"#twop\").style.background = \"none\";\n      this.setState({ mode: \"AI\" });\n      this.handleReset(null);\n    } else if (e.target.getAttribute(\"href\").includes(\"2P\")) {\n      e.target.style.background = \"#d4edda\";\n      document.querySelector(\"#ai\").style.background = \"none\";\n      this.setState({ mode: \"2P\" });\n      this.handleReset(null);\n    }\n  }\n\n  render() {\n    const rows = [];\n    for (var i = 0; i < 3; i++)\n      rows.push(\n        <Row\n          row={i}\n          boardState={this.state.boardState}\n          onNewMove={this.handleNewMove}\n          active={this.state.active}\n        />\n      );\n    return (\n      <div>\n        <div class=\"container jumbotron\" id=\"container\">\n          <h3>TIC TAC TOE</h3>\n          <p>\n            <a href=\"./?AI\" onClick={this.handleModeChange} id=\"ai\">\n              Versus AI\n            </a>{\" \"}\n            ||\n            <a href=\"./?2P\" onClick={this.handleModeChange} id=\"twop\">\n              {\" \"}\n              2 Players\n            </a>{\" \"}\n            ||\n            <a href=\"#\" onClick={this.handleReset}>\n              {\" \"}\n              Reset board\n            </a>\n          </p>\n          <p>{String.fromCharCode(symbolsMap[this.state.turn][1])}'s turn</p>\n          <div className=\"board\">{rows}</div>\n          <p class=\"alert alert-success\" role=\"alert\" id=\"message1\"></p>\n          <p class=\"alert alert-info\" role=\"alert\" id=\"message2\"></p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}